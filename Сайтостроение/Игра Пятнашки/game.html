<html>
	<head>
		<title>Пятнашки</title>
		<meta charset="utf-8">
			<script language="javascript">   
			str_vict="Поздравляем";
			function zamen(n){
			var n2 ;
			for ( var i=0; 16>i; ++i ){if (document.images[i].name=="16"){n2=i;}}  // замена элементов
			if ((n-n2==4) || (n2-n==4) || ((n-n2==1)&&(Math.floor(n/4)==Math.floor(n2/4))) || ((n2-n==1)&&(Math.floor(n/4)==Math.floor(n2/4))) ){ // продолжение раставления
			document.images[n2].src = document.images[n].name+".png"; // тип файлов
			document.images[n].src = "16.png"; // картинка с которой меняться
			document.images[n2].name = document.images[n].name; 
			document.images[n].name = "16";} // всего
			n2=0
			for ( var i=0; 13>i; ++i ){if (document.images[i].name==i+1){n2=++n2;}}
			if ((n2==13) && (document.images[15].name==16)) {alert(str_vict);zan();}}

			function zan(){ // формаула расстановки 
			var p1 = new Image();var p2 = new Image();var imgs_ = new Image();var name_;
			for ( var i=0; 50>i; ++i ){
			p1 = Math.floor(Math.random()*16);p2 = Math.floor(Math.random()*16);
			imgs_ = document.images[p1].src;document.images[p1].src = document.images[p2].src;document.images[p2].src = imgs_;
			name_ = document.images[p1].name;document.images[p1].name = document.images[p2].name;document.images[p2].name = name_;}}
			</script>
<body>
	<table border="2" align="center"><tr><td>
		<img src="1.png" onclick="zamen(0)" name="1" width="50" height="50">
		<img src="2.png" onclick="zamen(1)" name="2" width="50" height="50">
		<img src="3.png" onclick="zamen(2)" name="3" width="50" height="50">
		<img src="4.png" onclick="zamen(3)" name="4" width="50" height="50"><br>
		<img src="5.png" onclick="zamen(4)" name="5" width="50" height="50">
		<img src="6.png" onclick="zamen(5)" name="6" width="50" height="50">
		<img src="7.png" onclick="zamen(6)" name="7" width="50" height="50">
		<img src="8.png" onclick="zamen(7)" name="8" width="50" height="50"><br>
		<img src="9.png" onclick="zamen(8)" name="9" width="50" height="50">
		<img src="10.png" onclick="zamen(9)" name="10" width="50" height="50">
		<img src="11.png" onclick="zamen(10)" name="11" width="50" height="50">
		<img src="12.png" onclick="zamen(11)" name="12" width="50" height="50"><br>
		<img src="13.png" onclick="zamen(12)" name="13" width="50" height="50">
		<img src="14.png" onclick="zamen(13)" name="14" width="50" height="50">
		<img src="15.png" onclick="zamen(14)" name="15" width="50" height="50">
		<img src="16.png" onclick="zamen(15)" name="16" width="50" height="50"><br>
		</td>
		</tr>
	</table><br>
<center>
	<input onclick="zan()" style="font-weight: bold" type="button" value=" Новая игра ">
</center>
</body>
</html>